(this["webpackJsonpdiscord-app"]=this["webpackJsonpdiscord-app"]||[]).push([[0],{125:function(e,t,n){e.exports=n(251)},130:function(e,t,n){},152:function(e,t){},199:function(e,t){},202:function(e,t){},206:function(e,t){},207:function(e,t){},208:function(e,t,n){var a={"./CHANNEL_CREATE.js":209,"./CHANNEL_DELETE.js":210,"./CHANNEL_PINS_UPDATE.js":211,"./CHANNEL_UPDATE.js":212,"./GUILD_BAN_ADD.js":213,"./GUILD_BAN_REMOVE.js":214,"./GUILD_CREATE.js":215,"./GUILD_DELETE.js":216,"./GUILD_EMOJIS_UPDATE.js":217,"./GUILD_INTEGRATIONS_UPDATE.js":218,"./GUILD_MEMBERS_CHUNK.js":219,"./GUILD_MEMBER_ADD.js":220,"./GUILD_MEMBER_REMOVE.js":221,"./GUILD_MEMBER_UPDATE.js":222,"./GUILD_ROLE_CREATE.js":223,"./GUILD_ROLE_DELETE.js":224,"./GUILD_ROLE_UPDATE.js":225,"./GUILD_UPDATE.js":226,"./INVITE_CREATE.js":227,"./INVITE_DELETE.js":228,"./MESSAGE_CREATE.js":229,"./MESSAGE_DELETE.js":230,"./MESSAGE_DELETE_BULK.js":231,"./MESSAGE_REACTION_ADD.js":232,"./MESSAGE_REACTION_REMOVE.js":233,"./MESSAGE_REACTION_REMOVE_ALL.js":234,"./MESSAGE_REACTION_REMOVE_EMOJI.js":235,"./MESSAGE_UPDATE.js":236,"./PRESENCE_UPDATE.js":237,"./READY.js":238,"./RESUMED.js":239,"./TYPING_START.js":240,"./USER_UPDATE.js":241,"./VOICE_SERVER_UPDATE.js":242,"./VOICE_STATE_UPDATE.js":243,"./WEBHOOKS_UPDATE.js":244,"./index.js":110};function s(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=l,e.exports=s,s.id=208},24:function(e,t,n){e.exports={container:"master-detail_container__1aaED",activeLink:"master-detail_activeLink__1KB0Q",discordApp:"master-detail_discordApp__1s1Va",discordAppAside:"master-detail_discordAppAside__2jJQb",discordAppHeader:"master-detail_discordAppHeader__2wPK6"}},245:function(e,t){},246:function(e,t){},247:function(e,t){},248:function(e,t){},249:function(e,t){},251:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),l=n(116),i=n.n(l),c=(n(130),n(45)),r=n.n(c),o=n(28),u=n(31),E=n(24),d=n.n(E);function m(){var e=Object(u.g)(),t=e.path,n=e.url;return s.a.createElement("div",{className:d.a.container},s.a.createElement("aside",null,s.a.createElement(o.b,{to:"".concat(n,"/about-me"),activeClassName:d.a.activeLink},"About Me"),s.a.createElement(o.b,{to:"".concat(n,"/description"),activeClassName:d.a.activeLink},"Description"),s.a.createElement(o.b,{to:"".concat(n,"/faq"),activeClassName:d.a.activeLink},"FAQ")),s.a.createElement("main",null,s.a.createElement(u.c,null,s.a.createElement(u.a,{exact:!0,path:t},s.a.createElement("h3",null,"Select a section on the left to view information about my app!")),s.a.createElement(u.a,{path:"".concat(t,"/:name")},s.a.createElement(h,null)))))}function h(){switch(Object(u.f)().name){case"about-me":return s.a.createElement("div",null,s.a.createElement("h2",null,"About me"),s.a.createElement("p",null,"This is my webapp for my discord bot."));case"description":return s.a.createElement("div",null,s.a.createElement("h2",null,"Description"),s.a.createElement("p",null,"This is my webapp for my discord bot."),s.a.createElement("p",null,"Currently the only features available are reading and sending messages."));case"faq":return s.a.createElement("div",null,s.a.createElement("h2",null,"FAQ"),s.a.createElement("div",null,s.a.createElement("h3",null,"How do I use this thing?"),s.a.createElement("p",null,"Click the Main App button at the top!")));default:return s.a.createElement("div",null,s.a.createElement("h2",null,"ERROR 404"),s.a.createElement("p",null,"Page not found"))}}var p=n(122),f=n(119),g=n(120),_=n(123),v=n(121),A=n(38),C=n(124),b=new(n(135).Client),j=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(_.a)(this,Object(v.a)(t).call(this,e))).state={botToken:"",clientConnected:!1,clientListening:!1,currentMessage:"Idle.",guilds:{},channels:{},guildChannels:{},selectedGuild:null,selectedChannel:null,messageArray:null,messageInput:""},n.updateMessageInput=n.updateMessageInput.bind(Object(A.a)(n)),n.sendMessage=n.sendMessage.bind(Object(A.a)(n)),n.startDiscordBot=n.startDiscordBot.bind(Object(A.a)(n)),n.updateBotToken=n.updateBotToken.bind(Object(A.a)(n)),n}return Object(C.a)(t,e),Object(g.a)(t,[{key:"tick",value:function(){}},{key:"updateBotToken",value:function(e){this.setState({botToken:e.target.value})}},{key:"startDiscordBot",value:function(e){var t=this;this.setState((function(e,n){return{currentMessage:"Connecting with token "+t.state.botToken}})),b.on("ready",(function(){t.setState((function(e,t){return{currentMessage:"Connected as "+b.user.tag+"!",clientConnected:!0}})),b.guilds.cache.forEach((function(e){t.setState((function(t){var n=Object.assign({},t.guilds);return n[e.id]=e,{guilds:n}}))})),console.log(t.state.guilds),b.channels.cache.forEach((function(e){t.setState((function(t){var n=Object.assign({},t.channels);return n[e.id]=e,{channels:n}}))})),console.log(t.state.channels)})),b.login(this.state.botToken).catch((function(){console.log("Invalid token!"),t.setState((function(e,n){return{currentMessage:t.state.botToken+" is an invalid token!"}}))})),e.preventDefault()}},{key:"startListeningToMessages",value:function(){var e=this;!0!==this.state.clientListening&&b.on("message",(function(t){e.setState((function(e,t){return{clientListening:!0}}),(function(){console.log(t),e.updateMessages()}))}))}},{key:"selectGuild",value:function(e){var t=this;this.setState((function(n,a){return{selectedGuild:t.state.guilds[e]}}),(function(){return t.createChannelListForGuild(t.state.selectedGuild)}))}},{key:"createChannelListForGuild",value:function(e){var t=this;console.log(e),this.setState((function(t,n){return{guildChannels:e.channels.cache}}),(function(){return console.log(t.state.guildChannels)}))}},{key:"selectChannel",value:function(e){var t=this;console.log(e),this.setState((function(n,a){return{selectedChannel:t.state.channels[e]}}),(function(){t.updateMessages(),t.startListeningToMessages()}))}},{key:"updateMessages",value:function(){var e=this;null!=this.state.selectedChannel&&this.state.selectedChannel.messages.fetch({limit:30}).then((function(t){var n=Array.from(t.values());console.log(n),e.setState((function(e,t){return{messageArray:n.reverse()}}))})).catch(console.error)}},{key:"updateMessageInput",value:function(e){this.setState({messageInput:e.target.value})}},{key:"sendMessage",value:function(e){""!==this.state.messageInput&&(console.log("Trying to send "+this.state.messageInput),this.state.selectedChannel.send(this.state.messageInput),this.setState((function(e,t){return{messageInput:""}})),this.updateMessages()),e.preventDefault()}},{key:"render",value:function(){var e=this,t=null;!0===this.state.clientConnected&&(t=Object.keys(this.state.guilds).map((function(t){return s.a.createElement("li",{key:t,onClick:function(){return e.selectGuild(t)}},e.state.guilds[t].name)})));var n=null;null!=this.state.selectedGuild&&(n=Array.from(this.state.guildChannels).map((function(t){var n=Object(p.a)(t,2),a=n[0],l=n[1];if("text"===l.type)return s.a.createElement("li",{key:a,onClick:function(){return e.selectChannel(a)}},l.name)})));var a=null;return null!=this.state.messageArray&&(a=this.state.messageArray.map((function(e){return s.a.createElement("li",{key:e.id},e.author.username,": ",e.content)}))),s.a.createElement("div",{className:d.a.container},this.state.clientConnected?s.a.createElement("div",{className:d.a.discordAppAside},s.a.createElement("div",null,s.a.createElement("h3",null,"Guilds"),s.a.createElement("ul",null,t)),s.a.createElement("div",null,s.a.createElement("h3",null,"Channels"),s.a.createElement("ul",null,n))):null,s.a.createElement("main",null,s.a.createElement("div",{className:d.a.discordApp},s.a.createElement("div",{className:d.a.discordAppHeader},null==this.state.selectedChannel?null:s.a.createElement("h3",null,"Connected to channel ",this.state.selectedChannel.name," in ",this.state.selectedChannel.guild.name),s.a.createElement("p",null,"Status: ",this.state.currentMessage)),this.state.clientConnected?null:s.a.createElement("form",{onSubmit:this.startDiscordBot},s.a.createElement("label",null,"Enter bot token here:",s.a.createElement("input",{type:"text",value:this.state.botToken,onChange:this.updateBotToken}),s.a.createElement("input",{type:"submit",value:"Start bot"}))),s.a.createElement("ul",null,a),null==this.state.selectedChannel?null:s.a.createElement("form",{onSubmit:this.sendMessage},s.a.createElement("input",{type:"text",value:this.state.messageInput,onChange:this.updateMessageInput}),s.a.createElement("input",{type:"submit",value:"Send"})))))}}]),t}(s.a.Component);var T=function(){return s.a.createElement(o.a,{exact:!0,path:"/ReactInariBot"},s.a.createElement("div",{className:r.a.container},s.a.createElement("header",null,s.a.createElement(o.b,{to:"/ReactInariBot/home",activeClassName:r.a.homeLink},"Main Page"),s.a.createElement("nav",null,s.a.createElement(o.b,{to:"/ReactInariBot/home",activeClassName:r.a.activeLink},"About"),s.a.createElement(o.b,{to:"/ReactInariBot/main-app",activeClassName:r.a.activeLink},"Main App"))),s.a.createElement("main",null,s.a.createElement(u.c,null,s.a.createElement(u.a,{path:"/ReactInariBot/home"},s.a.createElement(m,null)),s.a.createElement(u.a,{path:"/ReactInariBot/main-app"},s.a.createElement(j,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,n){e.exports={container:"app_container__2IjM0",homeLink:"app_homeLink__eQpJN",activeLink:"app_activeLink__176kb"}}},[[125,1,2]]]);
//# sourceMappingURL=main.d7b1e2e2.chunk.js.map